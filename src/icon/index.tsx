import { CSSProperties, HTMLAttributes, cloneElement } from "react";
import classnames from "classnames";

import "./index.scss";

interface Props extends HTMLAttributes<HTMLButtonElement> {
  className?: string;
  type?: "fixed" | "copy";
  size?: number;
}

// TODO: 这里的svg不应该放在这里，会全部都加载到内存里面，不能做到按需加载，可以考虑到放在svg文件，然后根据文件名查找到文件按需加载
const svgMap = {
  fixed: (
    <svg
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="4008"
    >
      <path
        d="M745.485714 285.485714c21.714286-21.6 21.714286-56.8 0-78.4l-79.885714-79.885714 0.114286 0.114286c-21.142857-21.142857-57.485714-57.485714-108.914286-108.8-24.228571-23.657143-63.428571-23.428571-87.428571 0.571428L19.314286 468.8a61.531429 61.531429 0 0 0 0 87.314286L469.257143 1005.714286a61.874286 61.874286 0 0 0 87.428571 0l188.685715-188.571429c21.714286-21.6 21.714286-56.8 0-78.4a55.657143 55.657143 0 0 0-78.514286 0l-142.857143 143.085714c-5.942857 5.942857-15.2 5.942857-21.142857 0L143.428571 522.742857c-5.942857-5.942857-5.942857-15.2 0-21.142857l359.314286-359.085714c0.457143-0.457143 1.028571-0.8 1.485714-1.257143 5.942857-4.685714 14.171429-4.228571 19.657143 1.257143l143.085715 142.971428c21.714286 21.714286 56.914286 21.714286 78.514285 0zM393.828571 514.742857a121.485714 121.371429 0 1 0 242.971429 0 121.485714 121.371429 0 1 0-242.971429 0z m612.8-44.114286L866.171429 330.857143c-21.714286-21.6-56.914286-21.6-78.514286 0.114286a55.314286 55.314286 0 0 0 0 78.4l94.857143 94.742857c5.942857 5.942857 5.942857 15.2 0 21.142857l-93.485715 93.371428a55.314286 55.314286 0 0 0 0 78.4 55.657143 55.657143 0 0 0 78.514286 0l139.2-139.085714a61.634286 61.634286 0 0 0-0.114286-87.314286z"
        p-id="4009"
      ></path>
    </svg>
  ),
  copy: (
    <svg
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="1445"
    >
      <path d="M746.932 698.108" fill="#A9B7B7" p-id="1446"></path>
      <path
        d="M925.731 288.698c-1.261-1.18-3.607-3.272-6.902-6.343-5.486-5.112-11.615-10.758-18.236-16.891-18.921-17.526-38.003-35.028-56.046-51.397-2.038-1.848-2.038-1.835-4.077-3.682-24.075-21.795-44.156-39.556-58.996-52.076-8.682-7.325-15.517-12.807-20.539-16.426-3.333-2.402-6.043-4.13-8.715-5.396-3.365-1.595-6.48-2.566-10.905-2.483C729.478 134.227 720 143.77 720 155.734l0 42.475 0 42.475 0 84.95L720 347l21.205 0L890 347l0 595L358.689 942C323.429 942 295 913.132 295 877.922L295 177l361.205 0c11.736 0 21.25-9.771 21.25-21.5s-9.514-21.5-21.25-21.5l-382.5 0L252 134l0 21.734L252 813l-52.421 0C166.646 813 140 786.928 140 754.678L140 72l566.286 0C739.29 72 766 98.154 766 130.404L766 134l40 0 0-3.596C806 76.596 761.271 33 706.286 33L119.958 33 100 33l0 19.506 0 702.172C100 808.463 144.642 852 199.579 852L252 852l0 25.922C252 936.612 299.979 984 358.689 984l552.515 0L932 984l0-21.237L932 325.635 932 304l0.433 0C932.432 299 930.196 292.878 925.731 288.698zM762 304l0-63.315L762 198.21l0-0.273c14 11.479 30.3 26.369 49.711 43.942 2.022 1.832 2.136 1.832 4.157 3.665 17.923 16.259 36.957 33.492 55.779 50.926 2.878 2.666 5.713 5.531 8.391 7.531L762 304.001z"
        fill="#272636"
        p-id="1447"
      ></path>
      <path
        d="M816.936 436 407.295 436c-10.996 0-19.91 8.727-19.91 19.5 0 10.77 8.914 19.5 19.91 19.5l409.641 0c11 0 19.914-8.73 19.914-19.5C836.85 444.727 827.936 436 816.936 436z"
        fill="#272636"
        p-id="1448"
      ></path>
      <path
        d="M816.936 553 407.295 553c-10.996 0-19.91 8.727-19.91 19.5 0 10.774 8.914 19.5 19.91 19.5l409.641 0c11 0 19.914-8.726 19.914-19.5C836.85 561.727 827.936 553 816.936 553z"
        fill="#272636"
        p-id="1449"
      ></path>
      <path
        d="M816.936 689 407.295 689c-10.996 0-19.91 8.729-19.91 19.503 0 10.769 8.914 19.497 19.91 19.497l409.641 0c11 0 19.914-8.729 19.914-19.497C836.85 697.729 827.936 689 816.936 689z"
        fill="#272636"
        p-id="1450"
      ></path>
    </svg>
  ),
};

const Icon = (props: Props) => {
  const { className, type = "fixed", size = 32, ...others } = props;
  const cls = classnames({
    "ant-icon": true,
    [className as string]: !!className,
  });

  const style: CSSProperties = {};
  if (size) {
    style.width = size;
    style.height = size;
  }

  if (type in svgMap) {
    const svg = svgMap[type];
    return cloneElement(svg, {
      className: cls,
      style,
      ...others,
    });
  }

  return <i />;
};

export default Icon;
